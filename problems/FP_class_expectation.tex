\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_class_expectation}
  \pcomment{first part of CP_class_expectation}
  \pcomment{from: S01.practice final, prob3; modified from S07.ps13, prob3}
  \pcomment{adapted by Steven F09}
  \pcomment{edited ARM 5/17/15}
\end{pcomments}

\pkeywords{
  expectation
  random
  permutation
  indicator
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{problem}
There are $n$ students who are both taking Math for Computer Sience
and Introduction to Signal Processing this term.  To make it easier on
themselves, the Professors in charge of these classes have decided to
randomly permute their class lists and then assign students grades
based on their rank in the permutation---just as many students have
suspected \smiley.  Assume all permutations are equally likely and
that the ranking in each class is independent of the other.

What is the expected number of students that have a higher rank
in Math for CS than in Signal Processing?

\hint If a student ranks $r$th in Math for CS, then the probability
that this rank is higher than their rank in Signal Processing is
$(r-1)/n$.  Let $X_i$ be the indicator variable for student $i$ having
higher rank in Math for CS than Signal Processing.

\begin{solution}
The number $X$ of students with higher CS rank is
\[
X = X_1+X_2+\cdots+X_n.
\]

The hint observes that If a student ranks $r$th in Math for CS, then
the probability that this rank is higher than their rank in Signal
Processing is $(r-1)/n$.  Since all permutations are equally likely,
the probability a given student ranks $r$th in Math for CS is $1/n$.
Thus, the probability that student $i$ has higher rank in Math for CS
is
\[
\pr{X_i = 1} = \sum_{1\leq r \leq n}  \frac{1}{n} \frac{r-1}{n} = \frac{n-1}{2n}
\]
By linearity of expectation, the expected number of students with a higher
rank on Math for CS is
\[
\expect{X} = \expect{X_1}+\expect{X_2}+\cdots+\expect{X_n} = \frac{n-1}{2}.
\]

An elegant alternative way to solve this problem is to observe that
students with higher rank in one class have lower rank in the other
class, so by symmetry, the expected number of higher- and lower-ranked
students in either class is the same.  The probability the student
ranked the same in both schools is $1/n$, so by linearity of
expectation, the expected number of students with the same rank is 1.
These observations now yield the same answer as above.  Unfortunately
this argument does not readily extend to solving the related question
in the second part of Problem~\bref{CP_class_expectation}.
\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
