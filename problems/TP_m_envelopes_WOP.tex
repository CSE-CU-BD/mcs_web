\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{TP_m_envelopes_WOP}
  \pcomment{CH, S14. Adapted from a question on stackexchange.}
\end{pcomments}

\pkeywords{
  WOP
  envelopes
  dollars
  binary representation of integers
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}

You are given $m$ envelopes, numbered $1, 2, \ldots, m$. For 
$1 \leq i \leq k$, the $i^{\textrm{th}}$ envelope contains $2^{i-1}$
dollars. 

Using the Well Ordering Principle (WOP), prove the following property: for any $m$,
given a dollar amount $0 \leq n < 2^m$, there exists a subset of envelopes that contain
{\em exactly} $n$ dollars. 

\hint Construct the set $C$ consisting of positive integers $m$ for which the
desired property does {\em not} hold for some $n < 2^m$. Prove via the
WOP that $C$ is empty.

\begin{solution}

Call a positive integer $m$ \emph{bad} if there are a set of $m$
numbered envelopes, with the $i^{\textrm{th}}$ envelope containing
$2^{i-1}$ dollars, and a nonnegative number $n < 2^m$, such that no
subset of the envelopes adds up to $n$ dollars. Every positive
integer which is {not} bad is said to be \emph{good}

Denote $C$ as the set of all \emph{bad} integers. We will show
that $C$ is empty. Assume, to the contrary, that $C$ is non-empty.
Then, by the Well Ordering Principle (WOP), $C$ has a smallest element (say, $k$). This means
that $k$ is \emph{bad}, and every integer $j < k$ is \emph{good}.

We will prove that $k$ is itself \emph{good}, therefore arriving at a
contradiction.  Consider any $0 \leq n < 2^k$. Two cases arise:

\begin{enumerate}

\item $n < 2^{k-1}$. Since $k-1$ is \emph{good}, we can always find a
  subset of the first $k-1$ envelopes that add up to $n$. 

\item $2^{k-1} \leq n < 2^k$. Pick the $k^{\textrm{th}}$
  envelope containing $2^{k-1}$ dollars. Then, we are left to account
  for $n' = n - 2^{k-1}$ dollars. However, $n' < 2^{k-1}$, and from Case
  1, we can always find a subset of the first $k-1$ envelopes that add
  up to $n'$.

\end{enumerate}

In both cases, we find that we can a subset of envelopes whose
contents add up to $n$ dollars, for any $n < 2^k$. Therefore, by
contradition, $C$ is empty, therefore proving the stated property.

\end{solution}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
