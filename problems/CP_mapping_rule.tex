\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_mapping_rule}
  \pcomment{written by ARM 9/20/09, minor edits 2/11/11}
\end{pcomments}

\pkeywords{
 mapping rule
 images
 relations
 functions
 injections
 surjections
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  Let $R: A \to B$ be a binary relation.  Use an arrow counting argument
  to prove the following generalization of the Mapping
  Rule~\bref{\ref{mapping-sur}.

\begin{lemma*}
  If $R$ is a function, and $X \subseteq A$, then
\[
\card{X} \geq \card{R(X)}.
\]
\end{lemma*}

\begin{solution}
\begin{proof}
The proof is virtually a repeat of the arrow-counting proof in the text of

Since $R$ is a function, the number of arrows whose starting point is an
element of $X$ is at most the number of elements in $X$,  That is,
\[
\card{X} \geq \#\text{arrows from $X$}.
\]
Also, each element of $R(X)$ is, by definition, the endpoint of at least one
arrow starting from $X$, so there must be at least as many arrows starting
from $X$ as the number of elements of $R(CX)$.  That is,
\[
\#\text{arrows from $X$} \geq \card{R(X)}.
\]
Combining these inequalities immediately implies that $\card{X} \geq \card{R(X)}$.
\end{proof}

An alternative proof appeals to the original Mapping Rule:

\begin{proof}
  Let $R'$ be the relation $R$ restricted to $X$.  That is, $R'$ has
  domain $X$, codomain $R(X)$, and the same arrows as $R$.  Then $R'$ is
  a function because $R$ is, and $R'$ has the $[\ge 1\ \text{in}]$
  surjective property by definition of its codomain.  Hence the surjective
  function Mapping Rule~\bref{\ref{mapping-sur} implies that $\card{X}
    \geq \card{R(X)}$.

\begin{staffnotes}
A picture might help.

Here's a repeat of the proof of Mapping Rule~\bref{\ref{mapping-sur} to
remind students of if need be:

\begin{lemma}[Mapping Rule] \mbox{}
\begin{enumerate}

\item If $R:A \to B$ is a surjective function, then
\[
\card{A} \geq \card{B}.
\]

\begin{proof}
  Since $R$ is a function, every arrow in the diagram for $R$ comes from
  exactly one element of $A$, so the number of arrows is at most the
  number of elements in $A$:
\[
\card{A} \geq \#\text{arrows}.
\]
Similarly, since $R$ is surjective, every element of $B$ has at least one
arrow into it, so there must be at least as many arrows as the number of
elements of $B$:
\[
\#\text{arrows} \geq \card{B}.
\]
Combining these inequalities immediately implies that $\card{A} \geq \card{B}.$

\end{proof}

\end{staffnotes}

\end{solution}

\end{problem}

\endinput

