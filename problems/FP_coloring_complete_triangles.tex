\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_coloring_complete_triangles}
  \pcomment{variation of FP_coloring__triangles from F03 final}
  \pcomment{from S06.final}
\end{pcomments}

\pkeywords{
 coloring
 probability
 expectation
 variance
 graphs
 expectation
 independence
 Chebyshev
 law_of_large_numbers
 asymptotic_notation
 big_oh 
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Let $K_n$ be the complete graph with $n$ vertices.  Each of the edges of
the graph will be randomly assigned one of the colors red, green, or blue.
The assignments of colors to edges are mutually independent, and the
probabilty of an edge being assigned red is $r$, blue is $b$, and green is
$g$ (so $r+b+g=1$).

A set of three vertices in the graph is called a \emph{triangle}.  A
triangle is \emph{monochromatic} if the three edges connecting the vertices
are all the same color.

\bparts 

\ppart Let $m$ be the probability that any given triangle, $T$, is
monochromatic.  Write a simple formula for $m$ in terms of $r,b,$ and $g$.

\begin{center}
\exambox{2.0in}{0.5in}{-0.4in}
\end{center}

\examspace[0.5in]

\begin{solution}
$m = r^3+b^3 +g^3$
\end{solution}

\ppart Let $I_T$ be the indicator variable for whether $T$ is
monochromatic.  Write simple formulas in terms of $m,r,b,$ and $g$ for
$\expect{I_T}$ and $\variance{I_T}$.

\begin{center}
\exambox{2.0in}{0.5in}{-0.8in}
\end{center}

\examspace[1.0in]

\begin{solution}
\begin{align*}
\expect{I_T} & = m\\
\variance{I_T} & = m(1-m).
\end{align*}
\end{solution}

\eparts

\begin{center}
{\large Now assume $r=b=g = \dfrac{1}{3}$.}
\end{center}

\bparts

\ppart Let $T$ and $U$ be distinct triangles.  Show that $I_T$ and $I_U$
are independent random variables.
\begin{editingnotes}
Too hard to grade.  Needs hint or structured answer.
\end{editingnotes}

\examspace[2.0in]
\begin{solution}
Since $I_T$ and $I_U$ are indicators for events, it suffices to verify that
\[
\pr{I_T = 1}\cdot \pr{I_U = 1} = \pr{I_T\cdot I_U =1}.
\]
There are two cases depending on whether $T$ and $U$ share an edge.  In each
case, $\pr{I_T = 1}\cdot \pr{I_U = 1} = \pr{I_T\cdot I_U =1} = 1/3^4$.

\end{solution}

\ppart Let $M$ be the number of monochromatic triangles.  Write simple
formulas in terms of $n, m,r,b,$ and $g$ for $\expect{M}$ and
$\variance{M}$.

\begin{center}
\exambox{2.0in}{0.5in}{-0.8in}
\end{center}

\examspace[1.0in]

\begin{solution}
\begin{align*}
\expect{M} & =  m \cdot \text{(\# triangles)}\\
           & = m\binom{n}{3}.\\
\variance{M} & = \variance{I_T} \cdot \text{(\# triangles)}\\
           & = m(1-m)\binom{n}{3}.
\end{align*}
\end{solution}

\ppart  Let $\mu \eqdef \expect{M}$.  Prove that
\[
\pr{\abs{M - \mu} > \sqrt{\mu \log \mu}} = O \paren{\frac{1}{\log n}}
\]

\examspace[2.5in]

\begin{solution}
By Chebyshev,
\begin{equation}\label{C}
\pr{\abs{M - \mu} > c \sigma} \leq \frac{1}{c^2}
\end{equation}
But
\[
\sigma = \sqrt{(1-m)\mu} < \sqrt{\mu}
\]
so
\begin{align*}
\pr{\abs{M - \mu} > \sqrt{\mu \log \mu}}
 & = \pr{\abs{M - \mu} > \paren{\sqrt{\log \mu}} \sqrt{\mu}}\\
 & \leq \pr{\abs{M - \mu} > \paren{\sqrt{\log \mu}} \sigma}\\
 & \leq \frac{1}{\log \mu}  & \text{(by~\eqref{C})}\\
 & = O \paren{\frac{1}{\log n}}.
\end{align*}
The last step follows from the fact that
\[
\log \mu = \log \paren{m\binom{n}{3}} = \log m + \log n + \log (n-1) +
\log (n-2) - \log 6 = \Theta(\log n).
\]
\end{solution}

\iffalse

\ppart Conclude that
\[
\lim_{n\to \infty} \pr{\abs{M - \mu} > \sqrt{\mu \log \mu}} = 0
\]

\begin{solution}

Since $1/(\log n) \to 0$ as $n \to \infty$, the $O()$ bound on the
probability goes to 0 which means an upper bound on the limit is 0.  Since
the probability is nonnegative, the limit must be exactly 0.

\end{solution}
\fi

\eparts
\end{problem}
