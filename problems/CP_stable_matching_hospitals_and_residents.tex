\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_stable_matching_hospitals_and_residents}
  \pcomment{Added by Oshani on Prof. Meyer's instructions 03/16/11}
  \pcomment{subsume PS_stable_matching_hospitals}
\end{pcomments}

\pkeywords{
 stable_matching
 stable_marriage
 residents
 hospital
 }


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
The most famous application of stable matching was in assigning
graduating medical students to hospital residencies.  Each hospital has a
preference ranking of students, and each student has a preference order of
hospitals, but unlike the setup in the notes where there are an equal
number of boys and girls and monogamous marriages, hospitals generally have
differing numbers of available residencies, and the total number of
residencies may not equal the number of graduating students. 

Explain how to adapt the Stable Matching problem with an equal number
of boys and girls to this more general situation.  In particular,
modify the definition of stable matching so it applies in this
situation, and explain how to adapt the Mating Ritual to handle it.

\begin{solution}
A \term{matching} is an assignment of medical students to residencies
in each of the hospitals (an injection, $A: \text{students} \to
\text{residencies}$) such that every student has a residency ($A$ is
total), or every residency has an assigned student ($A$ is a
surjection).  An assignment, $A$, is \term{stable} when it has no
\emph{rogue couples}, where a rogue couple is a hospital student pair
$(H,S)$ such that $S$ prefers a residency at $H$ to her current
residency assignment, $A(S)$, and
\begin{itemize}
\item $H$ has none of its residencies assigned, or

\item $H$ prefers $S$ to one of its currently assigned students.

\end{itemize}

In the modified Mating Ritual for this situation---with students
playing the role of boys and hospitals as girls---boys apply (propose)
as usual to their favorite hospital, but a hospital with $k$
residencies rejects all but their $k$ most favored students.
\end{solution}

\end{problem}

\endinput
