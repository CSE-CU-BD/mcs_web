\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_Euler_function_multiplicativity}
  \pcomment{formerly called PS_distributive_law_for_phi}
  \pcomment{from: S09.ps8m, S08.ps7}
  \pcomment{also adapted from Number Theory notes problem}
  \pcomment{first parts done in CP_chinese_remainer}
\end{pcomments}

\pkeywords{
  primes
  number_theory
  Eulers_theorem
  modular_arithmetic
  bijections
  mulitplicative
  Euler_function
  phi_function
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  Suppose $m,n$ are relatively prime.  In the problem you will prove the
  key property of Euler's function that $\phi(mn)=\phi(m)\phi(n)$.

\bparts

\ppart\label{xecpab} Prove that if $x \equiv c \pmod ab$, then $x
\equiv c \pmod a$ for all positive $a,b$.

\begin{solution}
If $ab \divides (x -c)$ then obviously $a \divides (x-c)$
\end{solution}

\ppart Prove that for any $a,b$, there is an
$x$ such that
\begin{align}
x & \equiv a \pmod{m}, \label{xa}\\
x & \equiv b \pmod{n}. \label{xb}
\end{align}

\hint Let $m^{-1}$ be an inverse of $m$ modulo $n$ and define $e_n \eqdef
m^{-1}m$.  Define $e_m$ similarly.  Let $x = ae_m + be_n$.

\begin{solution}
We have by definition
\[
e_n \eqdef m^{-1}m \equiv \begin{cases}
                 0 \pmod m\\
                 1 \pmod n,
\end{cases}
\]
and likewise for $e_m$.  Therefore
\[
ae_m+be_n \equiv \begin{cases}
                 a\cdot 1 + b \cdot 0 = a \pmod m\\
                 a\cdot 0 + b \cdot 1 = b  \pmod n.
\]
\end{solution}

\ppart\label{x0} Prove that there is an $x \in [0,mn)$
  satisfying~\eqref{xa} and~\eqref{xb}.

\begin{solution}
Let
\[
x \eqdef \rem{ae_m+be_n}{mn}
\]
so $x \in [0, mn)$ by definition of remainder.  Also, we know $x
  \equiv ae_m+be_n \pmod{mn}$, so~part~\eqref{xecpab} implies that $x
  \equiv ae_m+be_n \equiv a \pmod{m}$ and $x \equiv ae_m+be_n \equiv b
  \pmod{n}$.
\end{solution}

\ppart\label{uniq} Prove that the $x$ satisfying part~\eqref{x0} is unique.

\begin{solution}
Assume $x,x'$ both satisfy congruences~\eqref{xa}
and~\eqref{xb}.  Taking the differences we see that
\[
x - x' \equiv 0 \pmod{m} \text{  and  } x - x' \equiv 0 \pmod{n},
\]
So by definition, both $m$ and $n$ divide $x - x'$, and since $m$ and
$n$ are relatively prime, $mn \divides (x - x')$.  But $x$ and $x'$
are both in $[0,mn)$ the range $0$ to $mn-1$, so it must be that $x-x'
  = 0$.  That is, $x = x'$, as required.
\end{solution}

\ppart For an integer $k$, let $k^*$ be the integers in $[1,k)$ that
  are relatively prime to $k$.  Conclude from part~\eqref{uniq} that
  the function
\[
f: (mn)^* \rightarrow m^* \times n^*
\]
defined by
\[
f(x) \eqdef (\rem{x}{m},\rem{x}{n})
\]
is a bijection.

\begin{solution}
By part~\eqref{uniq}, the mapping from $x$ to
$(\rem{x}{m},\rem{x}{n})$ is a bijection between $[0,mn)$ and $[0,m)
    \cross [0,n)$.

Moreover, since $x$ is relatively prime to $mn$ iff $x$ is relatively
prime to $m$ and $x$ is relatively prime to $n$, this mapping also
defines a bijection between the integers in $[0,mn)$ that are
  relatively prime to $mn$ and the pairs of integers in $[0,m) \cross
    [0,n)$ that are relatively prime to $m$ and $n$, respectively.
\end{solution}

\ppart Conclude from the preceding parts of this problem
that
\[
\phi(mn)=\phi(m)\phi(n).
\]

\begin{solution}
The mapping $f$ defines a bijection between $mn^*$ and $m^* \cross n^*$.
So
\[
\phi(mn) \eqdef \card{mn^*} = \card{m^* \cross n^*} = \card{m^*}\cdot  \card{n^*}.
\]
\end{solution}

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
