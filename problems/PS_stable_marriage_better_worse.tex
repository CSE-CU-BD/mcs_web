\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_stable_marriage_better_worse}
  \pcomment{by ARM 5/3/15}
  \pcomment{based on suggestions of Leonid Levin}
\end{pcomments}

\pkeywords{
 stable_matching
 optimal_spouse
 pessimal
 invariant
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Suppose there are two stable sets of marriages\iffalse , a first set
and a second set\fi.  So each man has a first wife and a second wife
(they may be the same), and likewise each woman has a first husband
and a second husband.

Someone in a given marriage is a \emph{winner} when they prefer their
current spouse to their other spouse, and they are a \emph{loser}
when they prefer their other spouse to their current spouse.  (If
someone has the same spouse in both of their marriages, then they will
be neither a winner nor a loser.)

We will show that
\begin{lemma*}
\begin{equation}\label{WL}
\text{In every marriage, someone is a winner iff their spouse is a loser.}
\end{equation}
\end{lemma*}

\bparts

\ppart\label{2l2w} One direction of~\eqref{WL} follows directly from
the definition of a rogue couple: explain why a winner must have a
spouse who is a loser.

\begin{solution}
If both members of a marriage were winners, then they would, by
definition, be a rogue couple for the other set marriages,
contradicting stability.
\end{solution}

\eparts Everything here is symmetric between men and women, and also
between first and second marriages, so to prove~\eqref{WL}, it's
enough to prove
\begin{equation}\label{MWWL}
\text{A man is a first marriage winner iff his wife is a loser.}
\end{equation}
Part~\eqref{2l2w} already implies that
\begin{equation}\label{M1W}
\text{If a man is a first marriage winner then his wife is a loser.}
\end{equation}
So we need only prove the converse:
\begin{equation}\label{WM}
\text{If a woman is a first marriage loser then her husband is a winner.}
\end{equation}

Let $W_{1,\text{lose}}$ be the set of women who are losers in their
first marriages and $M_{1,\text{win}}$ be the set of men who are
winners in their first marriages.\iffalse So~\eqref{M1W} implies
\begin{equation}\label{m1w<}
\card{M_{1,\text{win}}} \leq \card{W_{1,\text{lose}}}.
\end{equation}\fi

\bparts

\ppart Explain why the inequality
\begin{equation}\label{m1w>}
\card{M_{1,\text{win}}} \geq \card{W_{1,\text{lose}}}.
\end{equation}
implies~\eqref{WM}.

\begin{solution}
If there were as many first marriage winning men as losing women, then
the only way the different men could be married to different wives is
if every one of the losing women was married to a winning man.
\end{solution}

\ppart\label{same-active} Prove~\eqref{m1w>}

\hint First marriage losers are second marriage winners.

\begin{solution}
Let $W_{2,\text{win}}$ be the set of women who are winners in their
second marriages and $M_{2,\text{lose}}$ be the set of men who are
losers in their second marriages.  Part~\eqref{2l2w} implies that the
different women who win in their second marriages are married to
different losing men, so
\begin{equation}\label{w2m<}
\card{M_{2,\text{lose}}} \geq \card{W_{2,\text{win}}}.
\end{equation}
But a man is a second marriage loser iff he is a first marriage
winner, that is, $M_{2,\text{lose}} = M_{1,\text{win}}$.  Likewise
$W_{2,\text{win}} = W_{1,\text{lose}}$.  Now~\eqref{m1w>} follows
immediately from~\eqref{w2m<}.
\end{solution}

\ppart Conclude that in a stable set of marriages, someone's spouse is
optimal iff they are pessimal for their spouse.

\begin{solution}
A man is not married to his optimal wife in a stable set of marriages
iff he has a better wife in some second set of stable marriages.  By
Lemma~\eqref{WL}, this holds iff his first wife has a worse second
husband iff he is not his first wife's pessimal husband.
\end{solution}

\eparts
\end{problem}

\endinput
