\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{TP_infinite_repeat}
  \pcomment{by ARM 5/8/11}
  \pcomment{same as first past of MQ_infinite_repeat}
\end{pcomments}

\pkeywords{
  infinite
  expectation
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
You have a biased coin with nonzero probability $p<1$ of tossing a
Head.  You toss until a Head comes up and record the number, $k$, of
Tails that preceded this first Head.  Then\inbook{, similar to the
  example in Section~\bref{infinite_expect_sec},} you keep tossing
until you get another Head preceded by nearly as many consecutive
Tails, namely, at least $\max\set{k-10,0}$ consecutive Tails.  Prove
that the expected number of Heads you toss is infinite.

\begin{solution}
Let the random variable $T$ be the length of your initial run of
tails.  Suppose $T$ takes the value $k$, that is, you flip $k$
consecutive Tails followed by a Head.  So your target number of Tails
is $t_k \eqdef \max\set{k-10,0}$.  Then you try flipping until you get
another Head.  If the number of consecutive Tails before the last Head
is less than your target, you try the same thing again.

But the probability that one try will result in $\ge t_k$ Tails is
$q^{t_k}$, where $q \eqdef 1-p$.  So thinking of flipping $\ge t_k$
Tails followed by a Head as a ``failure,'' the expected number of
tries is the mean time to failure, namely $1/q^{t_k}$.

Letting $H$ be the number of Heads that appear the end of a try, we
have
\begin{align*}
\expect{H}
    & = \sum_{k \in \naturals} \expcond{H}{T=k} \cdot \prob{T=k}\\
    & = \sum_{k \in \naturals} \frac{1}{q^{t_k}} \cdot q^k p\\
    & = \text{constant} + \sum_{k \geq 10}  \frac{1}{q^{k-10}} \cdot q^k p\\
    & = \text{constant} + p\sum_{k \geq 10} q^{10} = \infty.
\end{align*}
\end{solution}

\begin{editingnotes}
ppart We can formalize the process of sampling a random variable $T$
and then counting the number of repeat samples needed until we get a
value larger than the initial one as follows.  Let $T_1, T_2,\dots$ be
mutually independent random variables with the same distribution as
$T$ and define
\[
R \eqdef \min\set{k \geq 1 \suchthat T_k > T}.
\]
Suppose $\pdf_{T}(n) = \Theta(n^a)$ for some real number $a >1$.
Prove that $\expect{R} = \infty$.\iffalse
\footnote{You may not appeal to
  Problem~\bref{PS_infinite_repeat_expectation} which shows that for
  essentially \emph{every} random variable $T$, the corresponding
  repeat variable $R$ has infinite expectation.}\fi


\begin{solution}
\TBA{}
\end{solution}

%\eparts

\end{editingnotes}

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
 
