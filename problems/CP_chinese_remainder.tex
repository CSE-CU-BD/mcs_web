\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_chinese_remainder}
  \pcomment{appears as first part of PS_Euler_function_multiplicativity}
  \pcomment{by ARM 2/27/11}
\end{pcomments}

\pkeywords{
  prime
  relatively_prime
  number_theory
  modular_arithmetic
  chinese_remainder
  remainder
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
  Suppose $a, b$ are relatively prime and greater than 1.  In this
  problem you will prove the \term{Chinese Remainder Theorem}, which
  says that for all $m,n$, there is a \emph{unique} $x \in [0,ab)$
    such that
  \begin{align}
   x &\equiv m \pmod a,\label{xma}\\
   x &\equiv n \pmod b.\label{xnb}
  \end{align}

\bparts

\ppart Prove that for any $m,n$, there is some $x$
satisfying~\eqref{xma} and~\eqref{xnb}.

\hint Let $b^{-1}$ be an inverse of $b$ modulo $a$ and define $e_a \eqdef
b^{-1}b$.  Define $e_b$ similarly.  Let $x = me_a + ne_b$.

\begin{solution}
We have by definition
\[
e_a \eqdef b^{-1}b \equiv
\begin{cases}
  1 \pmod a,\\
  0 \pmod b,
\end{cases}
\]
and likewise for $e_b$.  Therefore
\[
m e_a+ n e_b \equiv \begin{cases}
                 m\cdot 1 + n \cdot 0 = m \pmod a\\
                 m\cdot 0 + n \cdot 1 = n \pmod b.
                    \end{cases}
\]
\end{solution}

\ppart\label{0congcase} Prove that if
  \begin{align*}
   x &\equiv 0 \pmod a, \text{  and}\\
   x &\equiv 0 \pmod b,
  \end{align*}
then
\[
   x \equiv 0 \pmod{ab}.
\]

\begin{solution}
Since $x \equiv 0 \pmod a$, so by definition, $a \divides x$.  Likewise, $b \divides x$.
But $a$ and $b$ are relatively prime, so (by Unique Factorization) $ab \divides x$, that is,
$x \equiv 0 \pmod {ab}$.
\end{solution}

\ppart\label{x0x1mab} Conclude that if $x_0$ and $x_1$ both satisfy~\eqref{xma}
and~\eqref{xnb} (for the same $m,n$), then
\[
x_0 \equiv x_1 \pmod{ab}.
\]

\begin{solution}
$(x_0 - x_1)$ is $\equiv 0 \pmod a$ by~\eqref{xma} and $\equiv 0 \pmod
  b$ by~\eqref{xnb}, so by part~\eqref{0congcase}, $(x_0-x_1) \equiv 0
  \pmod{ab}$.  Adding $x_1$ to both sides of this $\equiv$ gives
\[
x_0 \equiv x_1 \pmod{ab}.
\]

\ppart\label{xempab} Prove that if $x \equiv m \pmod{ab}$, then $x
\equiv m \pmod a$ for all $m$.

\begin{solution}
If $ab \divides (x - m)$ then obviously $a \divides (x-m)$.
\end{solution}

\ppart\label{xin0ab} Conclude that there is an $x \in [0,ab)$ satisfying~\eqref{xma}
  and~\eqref{xnb}.

\begin{staffnotes}
\hint Take remainder on division by $ab$ of any solution
to~\eqref{xma} and~\eqref{xnb}.
\end{staffnotes}

\begin{solution}
If $x'$ is any solution to~\eqref{xma} and~\eqref{xnb}, then $x \eqdef
\rem{x'}{ab} \in [0,ab)$.   By the Remainder
  Lemma~\bref{lem:conrem}, $x \equiv x' \pmod{ab}$.  So by part~\ref{xempab}, $x \equiv x'
  \pmod a$ and $\pmod b$, which implies that $x$
  satisfies~\eqref{xma} and~\eqref{xnb}.
\end{solution}

\ppart Conclude that there is a \emph{unique} $x \in [0,ab)$
  satisfying~\eqref{xma} and~\eqref{xnb}.

\begin{solution}
By part~\eqref{x0x1mab}, if $x_0$ and $x_1$ both satisfy~\eqref{xma}
and~\eqref{xnb}, then they are congruent $\pmod{ab}$.  Since none of
the numbers in $[0,ab$ are $\equiv \pmod{ab}$, it follows that if
  $x_0$ and $x_1$ are both in $[0,ab)$, they must be equal.

An alternative argument is that the function $f: [0,ab) \to [0,a) \cross [0,b)$ defined by
\[
f(x) \eqdef (\rem{x}{a},\rem{x}{b})
\]
is a surjection by part~\eqref{xin0ab}, and since the domain and
codomain are both of size $ab$, it must be a bijection.  That means
that $f^{-1}(m,n)$ is the unique $x \in [0,ab)$ satisfying~\eqref{xma}
  and~\eqref{xnb}.

\end{solution}

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
