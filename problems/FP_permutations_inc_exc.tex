\documentclass[problem]{mcs}

\begin{pcomments}
\pcomment{FP_permutations_inc_exc}
\pcomment{final.S98}
\end{pcomments}

\pkeywords{
  permutation
  inclussion_exclusion
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{editingnotes}
ADAMC: Michaela/permutations of letters: Neat little problem that I
solved without too much trouble, which means it probably isn't too
hard, given my combinatorics skills. :) But I still do wonder that too
many students might fail to see the trick, which isn't quite like what
we've seen in class, unless I missed an alternate solution.
\end{editingnotes}

\begin{problem}Prove that there are 16,800 permutations of the letters
$\set{a,b,c,d,e,f,g,h}$ such that neither the letters $\set{a,b,c}$ nor
the letters $\set{d,e}$ occur in order.  For example, $fbgadceh$ is not
allowed because $d$ occurs before $e$, and $fagbecdh$ is not allowed
because $a$ occurs before $b$ and $b$ occurs before $c$, but $fbgaedch$ is
OK.

\begin{solution}
One way is to find three positions for $a$, $b$, and $c$, then two other
positions for $d$ and $e$, and count the number of ways $a$, $b$, and
$c$, can be out of order (namely, 5), the number of ways for $de$ (namely,
1), and the permutations of remaining 3 elements (namely, 3!):
\begin{eqnarray*}
\binom{8}{3}\binom{5}{2}3!5 & = &
      \frac{8*7*6}{3*2} \frac{5*4}{2} 3 * 2 * 5\\
& = & (8*7)(5*2)30 = 56*300 = 16800.
\end{eqnarray*}

Inclusion-exclusion is another way: let ALL be the $8!$ permutations of
all eight letters, let ABC be those permutations with $a,b,c$ appearing in
order, and DE those permutations with $d,e$ in order.  So
$\card{\mbox{ABC}} = P(8,5) ::= 8\cdot 7\cdot 6\cdot 5\cdot 4$, since a
permutation in ABC is uniquely determined by the 5 out of 8 positions of
the 5 letters besides $a,b,c$.  Likewise $\card{\mbox{DE}} = P(8,6)$.
Also, $\card{\mbox{ABC} \intersect \mbox{DE}}$ is determined by the
$P(8,3)$ positions of $f,g,h$ and then the $\binom{5}{2}$ places to put
$d$ and $e$ in order, that is $\card{\mbox{ABC} \intersect \mbox{DE}} =
P(8,3)\binom{5}{2}$.  Then the number of allowed permutations is
\begin{eqnarray*}
\card{\mbox{ALL}} - \card{\mbox{ABC} \union \mbox{DE}} & = & 8! -
\card{\mbox{ABC}} - \card{\mbox{DE}} + \card{\mbox{ABC} \intersect
\mbox{DE}}\\
& = & 8! - P(8,5) - P(8,6) + P(8,3)\binom{5}{2}\\
& = & 8*7*6[5! - 5*4 - 5*4*3 + 5*4/2]\\
& = & 8*7*6[120-20-60+10] = 8*7*6*50 = 16,800.
\end{eqnarray*}

\end{solution}
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
