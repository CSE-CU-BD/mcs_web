\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_lining_up}
  \pcomment{by Rich F09}
\end{pcomments}

\pkeywords{
 predicate_calculus
 counting
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}

\textbf{First-order Logic and Counting}

We would like to figure out ways of lining up 10 students 
(A, B, ... J) according to the following rules.

Translate each of the following rules into predicate formulas (with 
the set of all students as the domain of discourse). The only predicates
you may use are
\begin{itemize}
\item equality and,
\item $F(x,y)$, meaning that ``$x$ is in front of $y$.''
(for example, in the lineup ``CDA'', both F(C,A) and F(C,D) are true.)
\end{itemize}

\bparts

\ppart
Student A must not be last.

\begin{solution}
  \[ \exists x. F(A,x) \]
\end{solution}

\ppart
Student B must be next to C (directly in front of or behind C).

\begin{solution}
  \[ \forall x.
       ((x \neq B) \QAND (x \neq C)) \QIMPLIES
       (F(x,B) \QIFF F(x,C))
  \]
\end{solution}

\ppart
Student D always at second.

\begin{solution}
  \[ \exists x. 
       F(x, D) \QAND
       (\forall y. 
         ((y \neq D) \QAND (y \neq x)) \QIMPLIES 
         F(D,y))
  \]
\end{solution}

\ppart
How many possible lineups are there that satisfy all 3 of these rules?

\begin{solution}
   We may consider this by cases:
   
   Suppose that neither B or C are last. There are $6$ (they may be anywhere
   between 3rd to 9th) places to place them together and $2$ ways to order them.
   A may be placed in any of the remaining $6$ places (discounting the 
   last place and the places B and C occupy). And, lastly, there are $6!$
   to order the remaining $6$ people into their spots. The total is 
   therefore $6 \cdot 2 \cdot 6 \cdot 6!$
   
   Suppose that B or C is last. There are still $2$ ways to order B and C.
   The remaining 7 people (other than B, C and D) may then take the remaining
   spots in any of the $7!$ orders. So the total is $2 \cdot 7!$.
   
   The total number of possible lineups is therefore:
   
   \[2 \cdot 6 \cdot 6 \cdot 6! + 2 \cdot 7! \]
   
\end{solution}

\ppart
How many possible lineups are there that satisfy any 1 of these rules?

\begin{solution}
   TBA
\end{solution}

\eparts
\end{problem}

\endinput
