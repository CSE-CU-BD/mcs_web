\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_surj_relation}
  \pcomment{overlaps TP_composition_of_jections, subsumes TP_injR_surjinvR}
  \pcomment{new part(d) added by ARM 2/15/12}
\end{pcomments}

\pkeywords{
  relations
  functions
  injections
  surjections
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
\begin{staffnotes}
Have students look up the definitions of $\surj$ and $\inj$:

\begin{definition*}
  $A \surj B$ iff there is a surjective \textbf{function} ($[\leq
    1\ \text{out}, \geq 1\ \text{in}]$) from $A$ to $B$.

  $A \inj B$ iff there is a total injective \emph{relation} ($[\geq
    1\ \text{out}, \leq 1\ \text{in}]$) from $A$ to $B$.
\end{definition*}

For finite sets, everything below follows trivially from the Mapping
Lemma about sizes of sets.  Congratulate any students who get it that
way, but then challenge them to do it for arbitrary sets.

The proofs below would be clearer using an archery argument.
Encourage students to do their proofs in terms of arrows-in and -out,
but make sure it's sound and clear.
\end{staffnotes}

\bparts

\ppart\label{surjsurj} Prove that if $A \surj B$ and $B \surj C$, then
$A \surj C$.

\begin{solution}
By definition of $\surj$, there are surjective functions,
$f:A \to B$ and $g:B \to C$.

Let $h \eqdef g \compose f$ be the function equal to the composition of
$g$ and $f$, that is
\[
h(a) \eqdef g(f(a)).
\]
We show that $h$ is surjective, which will complete the proof.  So
suppose $c \in C$.  Then since $g$ is a surjection, $c = g(b)$ for
some $b \in B$.  Likewise, $b = f(a)$ for some $a \in A$.  Hence $c =
g(f(a)) = h(a)$, proving that $c$ is in the range of $h$, as required.
\end{solution}

\ppart\label{surjinj} Explain why $A \surj B$ iff $B \inj A$.

\begin{solution}
\begin{proof}
(right to left): By definition of $\inj$, there is a total injective
  relation $R:B \to A$.  But
\iffalse by  problem~\ref{TP_inverse_relation_table}, \fi
this implies that $\inv{R}$ is a surjective function from $A$ to $B$.

(left to right): By definition of $\surj$, there is a surjective function,
$f:A \to B$.
But
\iffalse By problem~\ref{TP_inverse_relation_table}, \fi
this implies that $\inv{f}$ is a total injective relation from $B$ to $A$.
\end{proof}
\end{solution}

\ppart Conclude from~\eqref{surjsurj} and~\eqref{surjinj} that if $A \inj
B$ and $B \inj C$, then $A \inj C$.

\begin{solution}
From~\eqref{surjinj} and~\eqref{surjsurj} we have that if $C \inj B$ and
$B \inj A$, then $C \inj A$, so just switch the names $A$ and $C$.
\end{solution}

\ppart Explain why $A \inj B$ iff there is a total injective
\emph{function} ($[= 1\ \text{out}, \leq 1\ \text{in}]$) from $A$ to
$B$. \footnote{The official definition of $\inj$ is with a total
  injective \emph{relation} ($[\geq 1\ \text{out}, \leq 1\ \text{in}]$)}

\begin{solution}
Given a $[\geq 1\ \text{out}, \leq 1\ \text{in}]$ relation, just erase
all but one arrow wherever there is more than one arrow out of the
same domain element to get an $[= 1\ \text{out}, \leq 1\ \text{in}]$
relation.
\end{solution}

\eparts
\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
