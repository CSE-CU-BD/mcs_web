\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_gambler_fair_expected_time}
  \pcomment{revised from: S08.cp13m by ARM, 5/9/10}
\end{pcomments}

\pkeywords{
  probability
  expectation
  random_walk
  gamblers_ruin
  linear-recurrence
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
In the fair Gambler's Ruin game with initial stake of $n$ dollars and
target of $T$ dollars, let $e_n$ be the number of \$1 bets the gambler makes
until the game ends (because he reaches his target or goes broke).
\begin{problemparts}
\ppart  Describe constants $a,b,c$ such that
\begin{equation}\label{enaen-1}
e_n = ae_{n-1} + be_{n-2} + c.
\end{equation}
for $1 < n < T$.
\begin{solution}
\[
e_{n}  = 2e_{n-1} - e_{n-2} - 2.
\]
That is, $a=2, b = -1, c = -2$.

This follows because
\begin{align*}
e_{n-1} & = \expcond{\#bets}{\text{gambler wins the first bet}}
             \cdot \pr{\text{gambler wins the first bet}}\
       & \quad + \expcond{\#bets}{\text{gambler loses the first bet}}
             \cdot \pr{\text{gambler loses the first bet}}
                       & \text{(Total Expectation)}\\
    & =  (1+ e_n) \cdot \frac{1}{2} + (1+ e_{n-2}) \cdot \frac{1}{2}\\
    & = \frac{2 + e_n + e_{n-2}}{2}.
\end{align*}
\end{solution}

\ppart Let $e_n$ be defined by~\eqref{enaen-1} for all $n > 1$, where
$e_0 = 0$ and $e_1 = d$ for some constant $d$.  Derive a closed form
(involving $d$) for the generating function $E(x) \eqdef \sum_0^\infty
e_nx^n$.

\begin{solution}
\[\begin{array}{rcrrrr}
E     & = & e_0 + &  e_1x + & e_2x^2 + & \dots\\
-xE   & = &       & -e_0x + &-e_1x^2 + & \dots\\
-x^2E & = &       &         & -e_0x^2 + & \dots\\
-\frac{1}{1-2x} 
      & = & -2    &   -2x + &  -2x^2  + & \dots\\
\hline
E - x E - x^2E -\frac{1}{1-2x}
      & = & -2 + & (d -2)x
\end{array}\]
so
\begin{align*}
E(x) & = \frac{(d - 2)x - 2 + \frac{1}{1-2x}}{1-x-x^2}\\
     & = \frac{(1-2x)((d-2)x -2)}{(1-2x)(1-x-x^2)}\\
     & = \frac{-2 +(d+2)x -2(d-2)x^2}{(1-2x)(1-\frac{2}{\sqrt{3}i -1}x)(1+\frac{2}{\sqrt{3}i -1}x)}
\end{align*}
\TBA{the rest}
\end{solution}

\ppart\label{closeden} Find a closed form (involving $d$) for $e_n$.

\begin{solution}
\TBA{soln}
\end{solution}

\ppart Use part~\eqref{closeden} to solve for $d$.

\begin{solution}
\TBA{soln}
\end{solution}

\ppart Prove that $e_n = n(T-n)$.

\begin{solution}
\TBA{soln}
\end{solution}

\end{problemparts}

\end{problem}

\endinput
