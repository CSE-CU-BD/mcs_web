\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{FP_odd_length_walk}
  \pcomment{variation of PS_odd_length_walk}
  \pcomment{ARM 11/1/15}
\end{pcomments}

\pkeywords{
  walk
  path
  cycle
  closed_walk
  digraph
  odd_length
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
In this problem, digraphs may have no self-loops and walks must
include at least one edge.

\bparts

\ppart Explain why a vertex of a digraph is on a closed walk iff it is
on an even-length closed walk.

\begin{solution}
Going around the closed walk twice yields an even-length closed walk.
\end{solution}

\ppart\label{oddcycleonly} Give an example of a digraph in which every
vertex is on an odd-length cycle, but \emph{no} vertex is on an
even-length cycle.

\hint There is a small example.

\begin{solution}
A graph consisting of three vertices in a cycle is an example.  That
is, the vertices are $a,b,c$ and the edges are $\diredge{a}{b},
\diredge{b}{c},\diredge{c}{a}$.  The \emph{only} cycle in the graph is
the length three cycle $abca$.

\iffalse
\begin{figure}
\graphic{Fig_walkpath}
\caption{A positive even-length $v$ to $v$ walk, but no even-length $v$ to $v$ cycle.}
\label{fig:walkpath}
\end{figure}
}
As in Figure~\ref{fig:walkpath}, let
\begin{align*}
V & \eqdef \set{u,v,w,x},\\
E & \eqdef \set{\diredge{u}{w}, \diredge{w}{x}, \diredge{x}{u}, \diredge{v}{w}, \diredge{x}{v}}.
\end{align*}
There is a positive even-length closed walk from $v$ to $v$:
\[
v \diredge{v}{w} w \diredge{w}{x} x \diredge{x}{u} u  \diredge{u}{w} w \diredge{w}{x} x \diredge{x}{v}
\]
It is easy to check that the \emph{only} cycle including $v$ is the odd-length cycle
\[
v \diredge{v}{w} w \diredge{w}{x} x \diredge{x}{v}.
\]
There is no even-length cycle from $v$ to $v$ from~$u$ to~$u$
\emph{that contains~$v$}.  The reason is that the sole edge out of $u$
goes to $w$, and the sole edge out of~$v$ likewise goes to $w$, so any
walk from~$u$ to~$u$ that goes through~$v$ must go through $w$ at
least twice and therefore won't be a cycle.  \fi

\end{solution}

\ppart Give an example of a digraph in which a vertex $v$ is on an
odd-length closed walk but not on an odd-length cycle.

\hint Add a couple of edges to an odd-length cycle.

\begin{solution}
In a digraph consisting of a single odd-length cycle, add a new vertex
$v$ with edges to and from some vertex $a$ on the cycle.  Then the
only cycle including $v$ is the even-length cycle $ava$.
\end{solution}

\ppart Prove that an odd-length closed walk of minimum size in a
digraph must be a cycle.

\hint Let $\walkv{e}$ be an odd-length closed walk of minimum size,
and suppose it begins and ends at vertex $a$.  If it is not a cycle,
then it must include a repeated vertex $b neq a$.  That is,
\[
\walkv{e} = a\, \catv{\catv{\walkv{f}}{b}{\walkv{g}}}{b}{\walkv{h}}\, a
\]
for some and walks $\walkv{f}, \walkv{g}, \walkv{h}$.

\begin{solution}
\begin{proof}
Since $\walkv{g}$ is a closed walk that is shorter than $\walkv{e}$, it
must be even-length.  But then
\[
\walkv{i} \eqdef a\, \catv{\walkv{f}}{b}{\walkv{h}}\,a
\]
is a closed walk that is shorter than $\walkv{e}$ by an even number,
namely $\lnth{\walkv{g}}$.  So $\walkv{i}$ is an odd-length closed walk
shorter than $\walkv{e}$, a contradiction.
\end{proof}

\end{solution}

\eparts

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\endinput
