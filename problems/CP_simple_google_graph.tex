\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{CP_simple_google_graph}
  \pcomment{from: S08.cp13m}
\end{pcomments}

\pkeywords{
  random_walk
  stationary_distributions
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
%\newcommand{\vout}[1]{\text{out}(#1)}
\newcommand{\vin}[1]{\text{in}(#1)}
\newcommand{\odeg}[1]{\text{out-degree}(#1)}
\newcommand{\ideg}[1]{\text{in-degree}(#1)}


  A Google-graph is a random-walk graph such that every
  edge leaving any given vertex has the same probability.  That is, the
  probability of each edge $\diredge{v}{w}$ is $1/\odeg{v}$.

  A directed graph is \term{symmetric} if, whenever $\diredge{v}{w}$ is an
  edge, so is $\diredge{w}{v}$.

  Given any finite, symmetric Google-graph, let
\[
d(v) \eqdef \frac{\odeg{v}}{e},
\]
where $e$ is the total number of edges in the graph.  Show that $d$ is a
stationary distribution.

\begin{solution}

  To show that $d$ is a stationary distribution, we must show that
  \begin{equation}\label{rank}
    d(w)= \sum_{v \in \vin{w}} p(v,w) d(v),
  \end{equation}
  where $\vin{w} \eqdef \set{v \suchthat \diredge{v}{w} \text{ is an edge}}$.

  We have
  \begin{align*}
   \lefteqn{\sum_{v \in \vin{w}} p(v,w) d(v)} \\
    &= \sum_{v \in \vin{w}}
 \paren{\frac{1}{\odeg{v}}}\paren{\frac{\odeg{v}}{e}} & \text{(by def $p$ and $d$)}\\
    \\
    &= \sum_{v \in \vin{w}} \frac{1}{e} \\
    &= \card{\vin{w}} \frac{1}{e}
    \\
    &= \ideg{w} \frac{1}{e}
    \\
    &= \odeg{w} \frac{1}{e} & \text{(by symmetry of the graph)}
    \\
    &= d(w) \ .
  \end{align*}

\end{solution}

\end{problem}
