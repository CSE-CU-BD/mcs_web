\documentclass[problem]{mcs}

\begin{pcomments}
  \pcomment{PS_function_composition}
  \pcomment{from: S09.ps2}
\end{pcomments}

\pkeywords{
  surjections
  injections
  functions
  composition
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem starts here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{problem}
Let $A$, $B$, and $C$ be nonempty sets, and let $f : B \to C$ and $g : A
\to B$ be functions.  Let $h \eqdef f \compose g$ be the composition
function of $f$ and $g$, namely, the function with domain $A$ and range
$C$ such that $h(x) = f(g(x))$.

Suppose that $h$ is injective and $f$ is total.  Prove that $g$ 
must be injective and provide a counterexample showing how this claim could 
fail if $f$ was \emph{not} total.

\begin{solution}
Suppose $g(x) = g(y)$; we need to show $x=y$.  But $f(g(x))$ is defined
  since $f$ is total, so we have
 \[
  h(x) = f(g(x)) = f(g(y)) = h(y).
  \]
  But since $h$ is injective, this implies that $x = y$, as required.
  Therefore, $g$ is injective.

  Suppose now that $f$ was not required to be total.  It is then possible
  that $g$ may not be injective, as demonstrated by the following example:

  Suppose $A = \set{1,2,3},\ B= \set{1,2}$ and $C = \set{1}$.  Let $f(1) =
  1$ and $f$ be undefined at 2.  Let $g(1) = 1$ and $g(2)=g(3) = 2$.  In
  this case $h$ is injective since $h$ is undefined at all but one element
  in $A$, but $g$ is not injective, since $g(2)=g(3)$.

\end{solution}

\examspace[4.0in]

\end{problem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Problem ends here
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
